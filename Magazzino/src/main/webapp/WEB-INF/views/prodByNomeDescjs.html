<html>

<head>
	<title>HomePage</title>
</head>

<body style="text-align: center" topmargin="200px">
	<h1>PRODOTTO TRAMITE NOME O DESCRIZIONE</h1><br>

	<table id="table" border="2" style="margin: auto">
		<div>
			<label>NOME:</label><br>
			<input type="text"  id="name"><br>
			<label>DESCRIZIONE:</label><br>
			<input type="text"  id="desc"><br><br>
			<button onclick="ricercaType()">submit</button>

		</div>
		
			<tr>
				<th>Name</th>
				<th>Type</th>
				<th>Quantity</th>
				<th>Description</th>
			</tr>
			<tr>
				<td id="nome"></td>
				<td id="tipologia"></td>
				<td id="quantita"></td>
				<td id="descrizione"></td>
		
			</tr>
		<script>

			function ricercaType() {
				fetch('http://localhost:8080/Magazzino/api/prodottoByNomeDescCriteria', {
					method: 'POST',
					body: JSON.stringify({
						name: document.getElementById("name").value,
						desc: document.getElementById("desc").value,
						
					}),
					
					headers: {
						"Content-type": "application/json; charset=UTF-8",
					},
				})
				
					.then((response) => response.json())
					.then(data => {
                    for (let i = 0; i < data.length; i++) {
                        console.log(data[i]);
                        document.getElementById('nome').innerHTML += data[i].name + "</br>";
                        document.getElementById('tipologia').innerHTML += data[i].tipo + "</br>";
                        document.getElementById('quantita').innerHTML += data[i].quantity + "</br>";
                        document.getElementById('descrizione').innerHTML += data[i].desc + "</br>";
                    }
                })
			}
			
		</script>	   
	</td>
</tr>


	</table>
</body>

</html>